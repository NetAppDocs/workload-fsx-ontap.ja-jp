---
sidebar: sidebar 
permalink: analyze-events.html 
keywords: analyze events, events, FSx for ONTAP events, EMS, troubleshoot FSx for ONTAP 
summary: NetApp Workload Factory for FSx for ONTAP内の EMS イベントを分析します。 
---
= NetApp Workload Factoryで FSx for ONTAP EMS イベントを分析する
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
NetApp Workload Factory のスマートイベントアナライザーを使えば、FSx for ONTAP ファイルシステムの問題を迅速に特定し、解決できます。イベントアナライザーは、Amazon Bedrock と統合された Agentic AI を活用し、FSx for ONTAP イベント管理システム（EMS）イベントを自動的に抽出・分析します。



== タスクの内容

ストレージ管理者は、顧客からの苦情を受けて初めてFSx for ONTAP EMSイベントに対応するか、カスタムスクリプトやアラームを保守することで対応することがよくあります。このような事後対応的なアプローチは、効率を低下させ、問題解決を遅らせ、ダウンタイムを増加させる可能性があります。

イベントアナライザーは、FSx for ONTAP ファイルシステムからエラー、アラート、緊急 EMS イベントを自動的に抽出します。これらのイベントは、link:https://docs.netapp.com/us-en/workload-fsx-ontap/create-link.html["リンクを使用してファイルシステムに接続する"]およびlink:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["_表示、計画、分析_の権限を付与する"^]によって AWS アカウントで表示できます。イベントは削除されるまで 72 時間表示されます。

Amazon Bedrock との統合により、Workload Factory は AI を使用してイベントを分析し、実用的な洞察を提供することで、FSx for ONTAP ファイルシステムの健全性とパフォーマンスを維持します。

主な利点は次のとおりです:

* 高度なトラブルシューティング：AI が FSx for ONTAP EMS イベントを自動的に識別、分析し、修正するための洞察を提供するため、手動による調査時間が短縮されます。
* ベストプラクティスの修復：イベントアナライザーは、FSx for ONTAP EMSイベントを解決するための明確で実用的な手順を提供します。


イベントアナライザーを使用すると、高度なAI分析のメリットを活用しながら、環境を完全に制御できます。

Workload Factory がイベントを分析できるようにするには、Amazon Bedrock をアクティブ化し、Workload Factory が使用するモデルを選択し、Amazon Bedrock に接続するためのプライベートエンドポイントを作成し、権限を追加して、エンタープライズライセンスを作成する必要があります。

link:https://aws.amazon.com/bedrock/pricing/["Amazon Bedrockの価格"^]



=== データのプライバシーとセキュリティ

データのプライバシーとセキュリティは以下によって保護されます：

* *データ主権*：すべてのデータと集計は AWS アカウント内に保持され、パブリックインターネットに公開されることなく、プライベート VPC エンドポイント（Amazon Bedrock）を介して通信されます。
* *AIトレーニングなし*：お客様のデータはモデルのトレーニングや改善には使用されません。Amazon Bedrock はイベントをリアルタイムで処理しますが、お客様のデータでトレーニングを行うことはありません。結果はお客様の環境にのみ保存されます。


詳細については、link:https://docs.aws.amazon.com/bedrock/latest/userguide/data-protection.html["Amazon Bedrock データ保護ドキュメント"^]を参照してください。



== 開始する前に

イベント アナライザーを使用するには、次の点を確認してください：

* FSx for ONTAPファイルシステムのイベントを分析するには、AWSアカウントにlink:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["_operations and remediation_ 権限"^]が必要です。
* FSx for ONTAP ファイル システムに関連付けられたセキュリティ グループでポート 22 (SSH) が開いています。


追加要件（ログエラー分析中にシステムからプロンプトが表示されます）：

* *Amazon Bedrock モデル*
+
各 AWS アカウントに対して Amazon Bedrock API を設定します。Amazon BedRock API は、FSx for ONTAP イベントに関する分析情報を提供するために使用されます。

+
推奨モデル： `anthropic.claude-sonnet-4-20250514-v1:0`。選択したリージョンの推論プロファイル ARN を指定します。

* *ワークロードファクトリーリンク*
+
FSx for ONTAP ファイルシステムへのリンクを作成し、関連付けることで、AI を活用したイベント分析が可能になります。リンクは、Workload Factory と 1 つ以上の FSx for ONTAP ファイルシステム間の信頼関係を確立し、AWS Lambda を活用します。

+
link:https://docs.netapp.com/us-en/workload-fsx-ontap/create-link.html["既存のリンクを関連付ける方法、または新しいリンクを作成して関連付ける方法を学びます"]。リンクが関連付けられたら、この操作に戻ります。

* *AWS IAM 権限*
+
Workload Factory IAM ロール関連ポリシーに次の権限を追加します。

+
** `bedrock:InvokeModel`
** `bedrock:InvokeModelWithResponseStream`
+
これらの権限により、Workload FactoryはBedrockモデルを呼び出してエラー調査と修復ガイダンスを実行できます。このプロファイルは、カスタマイズされたインサイトのための安全なAIアクセスも保証します。

+
また、Workload Factory に関連付けられた AWS 認証情報に対して次の権限を追加します：

** `bedrock:GetInferenceProfile`
** `bedrock:ListInferenceProfiles`
+
これらの権限はモデルの可用性を確認します。







== FSx for ONTAPの EMS イベントを表示および分析する

Workload Factory コンソールを使用して、FSx for ONTAPファイル システムの EMS イベントを表示および分析します。

.手順
. いずれかを使用してログインしlink:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["コンソールエクスペリエンス"^]ます。
. メニューを選択 image:workloads-menu-icon.png["ハンバーガー メニュー アイコンは、ストレージ、eda、ai、データベース、vmware、管理などのワークロードに移動するために使用されます。"] 次に*ストレージ*を選択します。
. ストレージメニューから*分析*を選択します。
. [分析] 画面で、分析する FSx for ONTAPファイルシステムを含む AWS アカウント、認証情報、およびリージョンを選択します。
+
イベントがある FSx for ONTAPファイル システムのみが画面に表示されます。

. 必要に応じて、画面上の指示に従って AI 分析のセットアップ要件を完了し、不足している前提条件を満たします。
. 分析する FSx for ONTAPファイル システムを見つけて、[イベントの表示] を選択します。
. 詳細なイベント情報を確認します。

